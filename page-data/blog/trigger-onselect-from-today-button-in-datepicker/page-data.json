{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/trigger-onselect-from-today-button-in-datepicker","result":{"data":{"markdownRemark":{"html":"<p>The <a href=\"http://jqueryui.com/datepicker\" target=\"_blank\">jQuery UI Datepicker</a> widget is a handy way to add a calendar control to a web page. It's pretty easy to implement and offers a lot of flexibility in terms of customization.</p>\n<p>By setting the <code class=\"language-text\">showButtonPanel</code> option to true, you get a button that takes you to today's date. However, this button functions a little differently than I expected. I thought it would select today's date in the calendar as if you had clicked on it, but it doesn't. It simply moves the calendar back to the current month (if you have navigated away from it) so that you can see the current date which is highlighted by default.</p>\n<p>Recently I used the Datepicker in a WordPress widget I was building to display calendar items from our Exchange calendar.  I wanted the today button to fetch calendar items for the current date, so I needed it to fire the <code class=\"language-text\">onSelect</code> method on that date, as if you had clicked it in the calendar. Here's how you can make that happen:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token function\">jQuery</span><span class=\"token punctuation\">(</span>document<span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">ready</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">$</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token comment\">// get datepicker element</span>\n    <span class=\"token keyword\">var</span> datepicker <span class=\"token operator\">=</span> <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.my-datepicker'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// set up your options</span>\n    datepicker<span class=\"token punctuation\">.</span><span class=\"token function\">datepicker</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n        showButtonPanel<span class=\"token operator\">:</span> <span class=\"token boolean\">true</span><span class=\"token punctuation\">,</span>\n        <span class=\"token function-variable function\">onSelect</span><span class=\"token operator\">:</span> <span class=\"token keyword\">function</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">date</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token comment\">// code here</span>\n            <span class=\"token comment\">// e.g. get calendar items for selected date</span>\n        <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// add click event to today button</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.ui-datepicker-current'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">live</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// set date to today and trigger the click event</span>\n        datepicker<span class=\"token punctuation\">.</span><span class=\"token function\">datepicker</span><span class=\"token punctuation\">(</span><span class=\"token string\">'setDate'</span><span class=\"token punctuation\">,</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">Date</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.ui-datepicker-current-day'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">click</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// trigger today button on initial page load</span>\n    <span class=\"token function\">$</span><span class=\"token punctuation\">(</span><span class=\"token string\">'.ui-datepicker-current'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">trigger</span><span class=\"token punctuation\">(</span><span class=\"token string\">'click'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>","frontmatter":{"title":"Trigger onSelect from today button in Datepicker","date":"February 6, 2014","tags":["javascript","jquery"]},"fields":{"slug":"/blog/trigger-onselect-from-today-button-in-datepicker"}}},"pageContext":{"title":"Trigger onSelect from today button in Datepicker","prev":{"frontmatter":{"title":"Adding custom columns (including the admin links)","tags":["wordpress"]},"excerpt":"This is a 2-part post discussing how to set up custom columns for a custom post type in WordPress. Part 1 focuses on adding custom columns…","fields":{"slug":"/blog/adding-custom-columns-including-the-admin-links"}},"next":{"frontmatter":{"title":"Demo plugin for using WordPress Settings API","tags":["wordpress"]},"excerpt":"I spent a lot of time recently figuring out the Wordpress Settings API. Although there are still parts of it that remain shrouded in mystery…","fields":{"slug":"/blog/demo-plugin-for-using-wordpress-settings-api"}}}},"staticQueryHashes":["3649515864","63159454"]}