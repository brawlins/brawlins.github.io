{"componentChunkName":"component---src-templates-blog-post-js","path":"/blog/display-an-rss-feed-using-the-google-feed-api","result":{"data":{"markdownRemark":{"html":"<p>Some time you may want to grab an RSS feed from another site and display it on yours. Here's how you can do it using the <a href=\"https://developers.google.com/feed/\" target=\"_blank\">Google Feed API</a>.</p>\n<h2>1. Include the Google Loader script</h2>\n<p>The \"recommended\" place for this is inside the <code class=\"language-text\">&lt;head&gt;</code> tags of your page, but you can really put it anywhere. It just has to be included before your script in step 3.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token comment\">&lt;!-- include Google Loader script --></span>\n<span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span> <span class=\"token attr-name\">src</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>https://www.google.com/jsapi<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2> 2. Add a container element for your feed</h2>\n<p>Put this wherever you want the feed to be displayed. Give it an <code class=\"language-text\">id</code> attribute so you can reference it in your script.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>div</span> <span class=\"token attr-name\">id</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>feed-container<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>div</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2> 3. Add your script</h2>\n<p>A good place to put this is just before the closing <code class=\"language-text\">&lt;/body&gt;</code> tag of your page. You'll want to adjust the URL of the feed and the number of entries to show. You can also completely control the markup that is output. Inside the for loop you can access the properties of each entry with the entry object. See the <a href=\"https://developers.google.com/feed/v1/devguide#resultJson\" target=\"_blank\">documentation on the JSON result</a> format for details.</p>\n<div class=\"gatsby-highlight\" data-language=\"html\"><pre class=\"language-html\"><code class=\"language-html\"><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;</span>script</span> <span class=\"token attr-name\">type</span><span class=\"token attr-value\"><span class=\"token punctuation attr-equals\">=</span><span class=\"token punctuation\">\"</span>text/javascript<span class=\"token punctuation\">\"</span></span><span class=\"token punctuation\">></span></span><span class=\"token script\"><span class=\"token language-javascript\">\n    <span class=\"token comment\">// load Google Feed API</span>\n    google<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"feeds\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"1\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// specify callback function</span>\n    google<span class=\"token punctuation\">.</span><span class=\"token function\">setOnLoadCallback</span><span class=\"token punctuation\">(</span>showFeed<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token comment\">// define function</span>\n    <span class=\"token keyword\">function</span> <span class=\"token function\">showFeed</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// get feed container</span>\n        <span class=\"token keyword\">var</span> container <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">getElementById</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"feed-container\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// set up feed</span>\n        <span class=\"token keyword\">var</span> feed <span class=\"token operator\">=</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">google<span class=\"token punctuation\">.</span>feeds<span class=\"token punctuation\">.</span>Feed</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"http://feeds.feedburner.com/nettuts\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        feed<span class=\"token punctuation\">.</span><span class=\"token function\">setNumEntries</span><span class=\"token punctuation\">(</span><span class=\"token number\">5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        <span class=\"token comment\">// load it</span>\n        feed<span class=\"token punctuation\">.</span><span class=\"token function\">load</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">function</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">result</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span><span class=\"token operator\">!</span>result<span class=\"token punctuation\">.</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token comment\">// add heading</span>\n                <span class=\"token keyword\">var</span> heading <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"h3\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                heading<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;a href=\"'</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">.</span>feed<span class=\"token punctuation\">.</span>link <span class=\"token operator\">+</span> <span class=\"token string\">'\">'</span> <span class=\"token operator\">+</span> result<span class=\"token punctuation\">.</span>feed<span class=\"token punctuation\">.</span>title <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/a>'</span><span class=\"token punctuation\">;</span>\n                container<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>heading<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token comment\">// add entries</span>\n                <span class=\"token keyword\">for</span> <span class=\"token punctuation\">(</span><span class=\"token keyword\">var</span> i <span class=\"token operator\">=</span> <span class=\"token number\">0</span><span class=\"token punctuation\">;</span> i <span class=\"token operator\">&lt;</span> result<span class=\"token punctuation\">.</span>feed<span class=\"token punctuation\">.</span>entries<span class=\"token punctuation\">.</span>length<span class=\"token punctuation\">;</span> i<span class=\"token operator\">++</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token keyword\">var</span> entry <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>feed<span class=\"token punctuation\">.</span>entries<span class=\"token punctuation\">[</span>i<span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span>\n                    <span class=\"token keyword\">var</span> li <span class=\"token operator\">=</span> document<span class=\"token punctuation\">.</span><span class=\"token function\">createElement</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"li\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                    li<span class=\"token punctuation\">.</span>innerHTML <span class=\"token operator\">=</span> <span class=\"token string\">'&lt;a href=\"'</span> <span class=\"token operator\">+</span> entry<span class=\"token punctuation\">.</span>link <span class=\"token operator\">+</span> <span class=\"token string\">'\">'</span> <span class=\"token operator\">+</span> entry<span class=\"token punctuation\">.</span>title <span class=\"token operator\">+</span> <span class=\"token string\">'&lt;/a>'</span><span class=\"token punctuation\">;</span>\n                    container<span class=\"token punctuation\">.</span><span class=\"token function\">appendChild</span><span class=\"token punctuation\">(</span>li<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n                <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n</span></span><span class=\"token tag\"><span class=\"token tag\"><span class=\"token punctuation\">&lt;/</span>script</span><span class=\"token punctuation\">></span></span></code></pre></div>\n<h2>4. Here's the output:</h2>\n<div id=\"feed-container\"></div>\n<script type=\"text/javascript\" src=\"https://www.google.com/jsapi\"></script><script type=\"text/javascript\">// <![CDATA[\n    // load Google Feed API\n    google.load(\"feeds\", \"1\");\n    // specify callback function\n    google.setOnLoadCallback(showFeed);\n    // define function\n    function showFeed() {\n        // get feed container\n        var container = document.getElementById(\"feed-container\");\n        // set up feed\n        var feed = new google.feeds.Feed(\"http://feeds.feedburner.com/nettuts\");\n        feed.setNumEntries(5);\n        // load it\n        feed.load(function(result) {\n            if (!result.error) {\n                // add heading\n                var heading = document.createElement(\"h3\");\n                heading.innerHTML = '<a href=\"' + result.feed.link + '\">' + result.feed.title + '</a>';\n                container.appendChild(heading);\n                // add entries\n                for (var i = 0; i < result.feed.entries.length; i++) {\n                    var entry = result.feed.entries[i];\n                    console.log(entry);\n                    var li = document.createElement(\"li\");\n                    li.innerHTML = '<a href=\"' + entry.link + '\">' + entry.title + '</a>';\n                    container.appendChild(li);\n                }\n            }\n        });\n    }\n// ]]></script>","frontmatter":{"title":"Display an RSS feed using the Google Feed API","date":"August 23, 2013","tags":["javascript"]},"fields":{"slug":"/blog/display-an-rss-feed-using-the-google-feed-api"}}},"pageContext":{"title":"Display an RSS feed using the Google Feed API","prev":{"frontmatter":{"title":"Simple Database Connections","tags":["mysql","php"]},"excerpt":"The other day I had to explain to someone how to connect to a MySQL database in PHP. It was a good reminder. Here's a simple example using…","fields":{"slug":"/blog/simple-database-connections"}},"next":{"frontmatter":{"title":"Where to put your custom WordPress functions","tags":["wordpress"]},"excerpt":"I found a great WordPress tip while reading some articles today. Often when you're trying to solve a problem you'll find code snippets in a…","fields":{"slug":"/blog/where-to-put-your-custom-wordpress-functions"}}}},"staticQueryHashes":["3649515864","63159454"]}